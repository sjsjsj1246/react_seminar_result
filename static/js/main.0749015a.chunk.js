(this.webpackJsonpexercise=this.webpackJsonpexercise||[]).push([[0],{11:function(t,e,n){t.exports={todoItemContainer:"TodoItem_todoItemContainer__zWW7L",todoCheckbox:"TodoItem_todoCheckbox__1WTFq",description:"TodoItem_description__3IEkt",isCompleted:"TodoItem_isCompleted__2ojP4",editButton:"TodoItem_editButton__3mEQv",deleteButton:"TodoItem_deleteButton__3qpPf"}},12:function(t,e,n){t.exports={loginContainer:"Login_loginContainer__16X0b",loginForm:"Login_loginForm__dVtd9",field:"Login_field__1wWqH",input:"Login_input__2Ek5t",signupButton:"Login_signupButton__2Gr_f",button:"Login_button__3B3H1"}},13:function(t,e,n){t.exports={loginContainer:"Register_loginContainer__3Kk-a",loginForm:"Register_loginForm__2XoNT",field:"Register_field__3TYYJ",input:"Register_input__34ki7",loginButton:"Register_loginButton__2h8kF",button:"Register_button__sE4By"}},18:function(t,e,n){t.exports={todoContainer:"TodoList_todoContainer__2sTdO",todoForm:"TodoList_todoForm__3Bm4p",logoutButton:"TodoList_logoutButton__1Bi_P",todoList:"TodoList_todoList__4kBB9",createTodoForm:"TodoList_createTodoForm__1FwY_"}},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var o=n(1),r=n(20),a=n.n(r),c=n(14),s=n(17),u=n(37),i=n(38),d=n.n(i),p=n(39),l=n(15),j=n(5),f=n(12),O=n.n(f),b=n(2),m=function(t){var e=t.onLogin,n=Object(o.useRef)(),r=Object(o.useRef)(),a=function(){e({username:n.current.value,password:r.current.value})};return Object(b.jsx)("div",{className:O.a.loginContainer,children:Object(b.jsxs)("div",{className:O.a.loginForm,children:[Object(b.jsxs)("div",{className:O.a.field,children:[Object(b.jsx)("p",{children:"ID"}),Object(b.jsx)("input",{className:O.a.input,ref:n,type:"text"})]}),Object(b.jsxs)("div",{className:O.a.field,children:[Object(b.jsx)("p",{children:"PASSWORD"}),Object(b.jsx)("input",{className:O.a.input,ref:r,onKeyPress:function(t){"Enter"==t.key&&a()},type:"password"})]}),Object(b.jsx)(l.b,{to:"/register",className:O.a.signupButton,children:"\ud68c\uc6d0\uac00\uc785"}),Object(b.jsx)("button",{className:O.a.button,onClick:a,children:"\ub85c\uadf8\uc778"})]})})},_=n(4),h=n(3),v=n.n(h),x=n(6),y=n(9),T=n.n(y),g=function(){var t=Object(x.a)(v.a.mark((function t(e){var n,o,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.username,o=e.password,t.next=3,T()({method:"post",url:"/api/auth/register",data:{username:n,password:o}});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(x.a)(v.a.mark((function t(e){var n,o,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.username,o=e.password,t.next=3,T()({method:"post",url:"/api/auth/login",data:{username:n,password:o}});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(x.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({method:"post",url:"/api/auth/logout"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w="auth/LOGIN_SUCCESS",L="auth/LOGIN_FAILURE",k="auth/LOGOUT_FAILURE",I="auth/REGISTER_SUCCESS",N="auth/REGISTER_FAILURE",S="auth/SET_LOADING",R={username:null,error:null,loading:null,success:null},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(_.a)(Object(_.a)({},t),{},{username:e.payload});case L:case k:return Object(_.a)(Object(_.a)({},t),{},{error:e.payload});case I:return Object(_.a)(Object(_.a)({},t),{},{username:e.payload});case N:return Object(_.a)(Object(_.a)({},t),{},{error:e.payload});case S:return Object(_.a)(Object(_.a)({},t),{},{loading:e.payload});default:return t}},F=function(t){var e=Object(c.c)((function(t){return t.auth})).loading,n=Object(j.e)(),r=Object(c.b)();return Object(o.useEffect)((function(){!1===e&&n.push("/todo")}),[e]),Object(b.jsx)(m,{onLogin:function(t){var e=t.username,n=t.password;r(function(t){var e=t.username,n=t.password;return function(){var t=Object(x.a)(v.a.mark((function t(o){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o({type:"auth/LOGIN"}),o({type:S,payload:!0}),t.prev=2,t.next=5,E({username:e,password:n});case 5:r=t.sent,o({type:w,payload:r.data}),o({type:S,payload:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),o({type:L,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}({username:e,password:n}))}})},B=function(t){return Object(b.jsx)(F,{})},G=n(13),A=n.n(G),U=function(t){var e=t.onRegister,n=Object(o.useRef)(),r=Object(o.useRef)();return Object(b.jsx)("div",{className:A.a.loginContainer,children:Object(b.jsxs)("div",{className:A.a.loginForm,children:[Object(b.jsxs)("div",{className:A.a.field,children:[Object(b.jsx)("p",{children:"ID"}),Object(b.jsx)("input",{className:A.a.input,ref:n,type:"text"})]}),Object(b.jsxs)("div",{className:A.a.field,children:[Object(b.jsx)("p",{children:"PASSWORD"}),Object(b.jsx)("input",{className:A.a.input,ref:r,type:"password"})]}),Object(b.jsx)(l.b,{to:"/",className:A.a.loginButton,children:"\ub85c\uadf8\uc778"}),Object(b.jsx)("button",{className:A.a.button,onClick:function(){e({username:n.current.value,password:r.current.value})},children:"\ud68c\uc6d0\uac00\uc785"})]})})},P=function(t){var e=Object(j.e)();return Object(b.jsx)(U,{onRegister:function(t){var n=t.username,o=t.password;g({username:n,password:o}).then((function(){e.push("/todo")}))}})},W=function(t){return Object(b.jsx)(P,{})},K=n(18),q=n.n(K),J=n(41),Y=n(11),H=n.n(Y),X=n(22),z=n(40),M=function(t){var e=t.todo,n=t.deleteTodo,r=t.toggledTodo,a=t.editTodo,c=Object(o.useState)(!1),s=Object(J.a)(c,2),u=s[0],i=s[1],d=Object(o.useRef)(),p=function(){""!==d.current.value&&a(e.id,d.current.value)};return document.body.onclick=function(){u&&(p(),i(!1))},Object(b.jsxs)("div",{className:"".concat(H.a.todoItemContainer," ").concat(e.isCompleted&&H.a.isCompleted),children:[Object(b.jsx)("div",{className:H.a.todoCheckbox,onClick:function(t){t.stopPropagation(),r(e.id)},children:e.isCompleted&&Object(b.jsx)(X.a,{color:"#FA2060"})}),u?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{autoFocus:!0,ref:d,onKeyPress:function(t){"Enter"===t.key&&(p(),i(!1))},className:H.a.description}),Object(b.jsx)(z.a,{className:H.a.editButton,onClick:function(t){t.stopPropagation(),i(!1),p()}})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"".concat(H.a.description," ").concat(e.isCompleted&&H.a.isCompleted),onClick:function(t){t.stopPropagation(),r(e.id)},children:e.content}),Object(b.jsx)(X.b,{className:H.a.editButton,onClick:function(t){t.stopPropagation(),i(!0)}})]}),Object(b.jsx)(X.c,{className:H.a.deleteButton,onClick:function(t){t.stopPropagation(),n(e.id)}})]})},Q=function(t){var e=t.todoList,n=t.onCreateTodo,r=t.onDeleteTodo,a=t.onEditTodo,c=t.onToggleTodo,s=t.onLogout,u=Object(o.useRef)(),i=(Object(j.e)(),function(t){""!==t&&(n(t),u.current.value="")}),d=function(t){r(t)},p=function(t){c(t)},l=function(t,e){""!==e&&a({id:t,content:e})};return Object(b.jsx)("div",{className:q.a.todoContainer,children:Object(b.jsxs)("div",{className:q.a.todoForm,children:[Object(b.jsx)("button",{className:q.a.logoutButton,onClick:s,children:"\ub85c\uadf8\uc544\uc6c3"}),Object(b.jsx)("div",{className:q.a.todoList,children:e.map((function(t){return Object(b.jsx)(M,{todo:t,deleteTodo:d,toggledTodo:p,editTodo:l},t.id)}))}),Object(b.jsxs)("div",{className:q.a.createTodoForm,children:[Object(b.jsx)("input",{type:"text",ref:u,onKeyPress:function(t){"Enter"===t.key&&i(u.current.value)}}),Object(b.jsx)("button",{onClick:function(){i(u.current.value)},children:"\ucd94\uac00\ud558\uae30"})]})]})})},V=function(){var t=Object(x.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({method:"get",url:"/api/todos"});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=Object(x.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({method:"post",url:"/api/todos",data:{content:e}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(x.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({method:"delete",url:"/api/todos/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(x.a)(v.a.mark((function t(e){var n,o,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,o=e.content,t.next=3,T()({method:"patch",url:"/api/todos/".concat(n),data:{content:o}});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),et=function(){var t=Object(x.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({method:"patch",url:"/api/todos/complete/".concat(e)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),nt="todos/GET_TODO_LIST_SUCCESS",ot="todos/GET_TODO_LIST_FAILURE",rt="todos/CREATE_TODO_FAILURE",at="todos/DELETE_TODO_FAILURE",ct="todos/EDIT_TODO_FAILURE",st="todos/TOGGLE_TODO_FAILURE",ut="todos/SET_LOADING",it={todoList:[],error:null,loading:!1};var dt=function(t){var e=Object(j.e)(),n=Object(c.c)((function(t){return t.todos})),r=n.todoList,a=n.loading,s=Object(c.b)();return Object(o.useEffect)((function(){!1===a&&s(function(){var t=Object(x.a)(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"todos/GET_TODO_LIST"}),t.prev=1,t.next=4,V();case 4:n=t.sent,e({type:nt,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:ot,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[s,a]),r?Object(b.jsx)(Q,{todoList:r,onCreateTodo:function(t){s(function(t){return function(){var e=Object(x.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"todos/CREATE_TODO"}),n({type:ut,payload:!0}),e.prev=2,e.next=5,Z(t);case 5:o=e.sent,n({type:"todos/CREATE_TODO_SUCCESS",payload:o.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n({type:rt,payload:e.t0});case 12:n({type:ut,payload:!1});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}(t))},onDeleteTodo:function(t){s(function(t){return function(){var e=Object(x.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"todos/DELETE_TODO"}),n({type:ut,payload:!0}),e.prev=2,e.next=5,$(t);case 5:o=e.sent,n({type:"todos/DELETE_TODO_SUCCESS",payload:o.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n({type:at,payload:e.t0});case 12:n({type:ut,payload:!1});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}(t))},onEditTodo:function(t){var e=t.id,n=t.content;s(function(t){var e=t.id,n=t.content;return function(){var t=Object(x.a)(v.a.mark((function t(o){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o({type:"todos/EDIT_TODO"}),o({type:ut,payload:!0}),t.prev=2,t.next=5,tt({id:e,content:n});case 5:r=t.sent,o({type:"todos/EDIT_TODO_SUCCESS",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),o({type:ct,payload:t.t0});case 12:o({type:ut,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}({id:e,content:n}))},onToggleTodo:function(t){s(function(t){return function(){var e=Object(x.a)(v.a.mark((function e(n){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"todos/TOGGLE_TODO"}),n({type:ut,payload:!0}),e.prev=2,e.next=5,et(t);case 5:o=e.sent,n({type:"todos/TOGGLE_TODO_SUCCESS",payload:o.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n({type:st,payload:e.t0});case 12:n({type:ut,payload:!1});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}(t))},onLogout:function(){C(),e.push("/")}}):Object(b.jsx)("div",{children:"\ub85c\ub529\uc911..."})},pt=function(t){return Object(b.jsx)(dt,{})};var lt=function(){return Object(b.jsxs)(l.a,{basename:"/react_seminar_result",children:[Object(b.jsx)(j.a,{exact:!0,path:"/",component:B}),Object(b.jsx)(j.a,{path:"/register",component:W}),Object(b.jsx)(j.a,{path:"/todo",component:pt})]})},jt=(n(70),Object(s.combineReducers)({todos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case nt:return Object(_.a)(Object(_.a)({},t),{},{todoList:e.payload});case ot:case rt:case at:case ct:case st:return Object(_.a)(Object(_.a)({},t),{},{error:e.payload});case ut:return Object(_.a)(Object(_.a)({},t),{},{loading:e.payload});default:return t}},auth:D})),ft=Object(s.createStore)(jt,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(p.a,d.a)));a.a.render(Object(b.jsx)(c.a,{store:ft,children:Object(b.jsx)(lt,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0749015a.chunk.js.map